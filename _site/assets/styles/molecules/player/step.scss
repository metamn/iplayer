@mixin step {
  @include show-title;
  @include title-with-numbers;
  
  @include laptop-and-up {
    @include active-inactive-title;
  }
  
  figure {
    margin-bottom: $lem;
    
    figcaption {
      display: none !important;
    }
    
    @include laptop-and-up {
      display: none;
    }
  }
} 



@mixin active-inactive-title {
  h3 {
    cursor: pointer;
  }
  
  h3 .text {
    opacity: .1;
  }
  
  &:first-of-type, &:hover {
    h3 .text {
      opacity: 1;
    }
  }
}


@mixin title-with-numbers {
  h3 {
    width: 100%;
    float: left;
    margin-bottom: $lem;
    @include font(step);
    
    .step, .text {
      display: inline-block;
      float: left;
    }
    
    $size: $lem - $lem/4;
    
    .step {
      @include circle(white-on-green, $lem - $lem/4);
      text-align: center;
      margin-right: $lem/2;
    }
    
    .text {
      max-width: calc(100% - #{$size * 2 + $size/2 + $lem/2});
      padding-top: $lem/2.5;
    }
  }
}